---

---
<!-- Agregue el link a las paginas correspondiente -->
<div class="bg-muted-100 dark:bg-muted-900 pb-10">
<div class="container bg-white">
	<img src="../../public/assets/solo-img.webp" class=" w-28 mb-5 m-auto block" alt="" />
	<h1 class="text-3xl font-bold underline">LOGIN</h1>
	<form id="loginForm" class=>
		<input
			type="text"
			name="email"
			placeholder="Ingrese su correo"
            id="email"
            required
		/>
		<input
			type="password"
			name="password"
			placeholder="Ingrese su contraseña"
            id="password"
            required
		/>
		<span> <a href="">Olvidaste tu contraseña?</a></span>
		<button type="submit">Login</button>
		<span>¿No tienes una cuenta? <a href="/registro" >Registrate</a></span>
	</form>
</div>
</div>

<script>
    
        const loginForm = document.getElementById('loginForm');
        
        loginForm?.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const email = (document.getElementById('email') as HTMLInputElement).value;
            const password = (document.getElementById('password') as HTMLInputElement).value;
            
            try {
                const response = await fetch('http://localhost:4000/api/users/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                })
                .then((response) => response.json());
                
                
                if (response.status=== 200) {
                    const {data} = await response.data;
                    
                    // Guardar token en localStorage
                    localStorage.setItem('accessToken', data.token);
                    
                    // Redirigir al dashboard o página principal
                    window.location.href = '/dashboard';
                } else {
                    const errorData = await response.json();
                    alert(errorData.message || 'Error en el inicio de sesión');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Ocurrió un error al iniciar sesión');
            }
        });
    
</script>


<style>
	.container {
    width: 420px;
    height: 709px;
    margin: 0 auto;
    padding: 20px;
    margin-top: 160px;
    background-color: #ffffff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    border-radius: 15px;
    
}

/* .container img {
    display: block;
    margin: 0 auto;
    margin-bottom: 20px;
} */

.container h1 {
    font-weight: 600;
    line-height: normal;
    background: linear-gradient(90deg, #8080fb 0%, #ec70ee 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-align: center;
}

.container form {
    display: flex;
    flex-direction: column;
    margin-top: 20px;
}

.container form input {
    padding: 15px;
    margin-bottom: 10px;
    border: 1px solid #ccc;
    border-radius: 10px;
}

.container form span {
    margin: 20px 0;
    text-align: end;
    cursor: pointer;
}

.container form span a {
    text-decoration: none;
    color: #5f5fff;
    font-weight: 500;
    font-size: 14px;
    line-height: normal;
}

.container form button {
    padding: 15px;
    background-color: #8080fb;
    color: #fff;
    border: none;
    border-radius: 10px;
    cursor: pointer;
}
</style>